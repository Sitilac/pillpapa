{% extends 'base.html' %}

{% block content %}
<div class="container">
  {% if object %}
      <h1>Edit <span class="teal-text">{{object.name}}</span></h1>
    {% else %}
      <h1>Personal Info</h1>
    {% endif %}

    <!-- Leaving the action empty makes the form post to the same url used to display it -->
    <form action="" method="post">
      <!-- Django requires the following for security purposes -->
      {% csrf_token %}
      <table>
        <!-- Render the inputs inside of <tr>s & <td>s -->
        {{ form.as_table }}
      </table>
      <input type="submit" value="Submit!" class="btn">
    </form>
    <script>
      const dateEl = document.getElementById('id_dob');
      M.Datepicker.init(dateEl, {
        format: 'yyyy-mm-dd',
        // maxDate: new Date(),
        // minDate: new Date(1900, 01, 01),
        yearRange: [1900, new Date().getFullYear()],
        // defaultDate: new Date(),
        // setDefaultDate: true,
        autoClose: true
      });
      const selectEl = document.getElementById('id_dose');
      M.FormSelect.init(selectEl);
    </script>
</div>
{% endblock %}